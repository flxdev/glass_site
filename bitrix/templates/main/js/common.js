function Menu(){var e=$(".js-menu"),i=$(".mob-menu"),t="active",o="menu-open";e.add(i).on("click",function(){if(!e.hasClass("anim")){if(e.addClass("anim"),i.toggleClass(t),e.hasClass(t))setTimeout(function(){e.removeClass(t)},400),conf.body.removeClass(o),window.__prevScrollTop&&window.scroll(0,window.__prevScrollTop),window.__prevScrollTop=null;else{var n=$(window).scrollTop();window.__prevScrollTop=n,e.addClass(t),conf.body.addClass(o),document.body.style.top=-n+"px",window.scroll(0,window.__prevScrollTop)}setTimeout(function(){e.removeClass("anim")},500)}}),$(".mob-menu-inner").click(function(e){e.stopPropagation()})}function scaleVideoContainer(){var e=$(".video-container").height()+5,i=parseInt(e)+"px";$(".homepage-hero-module").css("height",i)}function initBannerVideoSize(e){$(e).each(function(){$(this).data("height",$(this).height()),$(this).data("width",$(this).width())}),scaleBannerVideoSize(e)}function scaleBannerVideoSize(e){var i,t,o=$(".video-container").width(),n=$(".video-container").outerHeight()+5;$(e).each(function(){var e=$(this).data("height")/$(this).data("width");$(this).width(o),o<1e3&&(t=n,i=t/e,$(this).css({"margin-top":0,"margin-left":-(i-o)/2+"px"}),$(this).width(i).height(t)),$(".homepage-hero-module .video-container video").addClass("fadeIn animated")})}function SearchForm(e){var i=this;i.initEvents=function(){i.el.on("focus",i.iFocus),i.el.on("blur",function(e){$(e.relatedTarget).hasClass("search-submit")||i.iBlur()}),i.el.on("input",i.iInput),i.submit.on("click",i.initSubmit),i.reset.on("click",i.iReset),this.el.on("click",function(){var e=$(this);e.removeAttr("readonly"),setTimeout(function(){e.trigger("change click"),e.focus(),console.log(e)},500)})},i.iInput=function(){i.iVal=$(this).val(),0!=i.iVal?(i.reset.addClass(i.def.resetClass),i.form.addClass(i.def.active),i.placeHold.hide()):(i.reset.removeClass(i.def.resetClass),i.form.removeClass(i.def.active),i.placeHold.show())},i.iFocus=function(){i.iVal=i.el.val(),i.parent.addClass(i.def.open),i.submit.attr("type","submit"),0!=i.iVal.length&&i.form.addClass(i.def.active)},i.iBlur=function(){i.iVal=i.el.val(),0==i.iVal.length&&(i.parent.removeClass(i.def.open),i.submit.attr("type","button"))},i.iReset=function(){i.reset.removeClass(i.def.resetClass),i.form.removeClass(i.def.active),i.submit.attr("type","button"),i.el.attr("value",""),i.el.val(""),i.el.focus(),i.placeHold.show()},i.initSubmit=function(){return"submit"!==i.submit.attr("type")?i.el.trigger("focus"):alert("Send form!"),!1},i.iDetected=function(e){0!=i.iVal.length&&(i.iFocus(),i.reset.addClass(i.def.resetClass),i.placeHold.hide())},i.generatePlaceeholder=function(){var e=document.createElement("span");e.classList.add("placeholder");var t=this.el.data("placeholder");e.textContent=t,$(e).insertAfter(this.el),i.placeHold=$(".placeholder")},i.init=function(){i.el=e,i.parent=i.el.parent(),i.iVal=i.el.val(),i.submit=i.parent.find(".search-submit"),i.reset=i.parent.find(".search-reset"),i.form=i.el.parents("form"),i.def={open:"open",resetClass:"show",active:"not-empty"},i.generatePlaceeholder(),i.iDetected(),i.initEvents()},e.length&&i.init()}function promoslider(){$(".js-promoslider").each(function(){var e=$(this),i=e.closest(".promo-slider"),t=e.find(".promo-slider-item"),o=i.find(".js-promo-link");e.on("init reInit afterChange",function(e,i,n,a){var r=t.filter(".slick-current"),s=r.data("href");o.attr("href",s)}),e.slick({accessibility:!1,lazyLoad:"progressive",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:1e3})})}function Parallax(e){$(window).on("scroll",function(){var i,t,o,n,a,r,s,l,d,c,h,u,f=$(window).scrollTop(),p=conf.body.scrollHeight,m={};e.each(function(){return m={},i=$(this),h=i.data("axis")||"y",!!i.length&&(u=conf.footer,t=i.parent(),o=t[0].getBoundingClientRect(),r=parseInt(i.data("speed"),10)/109||.15,s=parseInt(i.data("direction"),10)||1,n=t.offset().top,a=($(window).height()-o.height)/2,0>a&&f+o.top<=u.innerHeight()&&(a=0),l=Math.round((o.top-a)*r)*s,0===f?l=0:(d=p,c=$(window).height()+f,d-n-t.innerHeight()<=2&&(d-c)/d===0&&(l=0)),m[h]=l,void TweenMax.to(i,.1,m))})})}$(window).on("load",function(){new Lozad({selector:".js-image",rootMargin:"0px 0px",threshold:.1})}),document.addEventListener("DOMContentLoaded",function(){function e(){$(".video-container").length&&(scaleVideoContainer(),initBannerVideoSize(".video-container .poster img"),initBannerVideoSize(".video-container .filter"),initBannerVideoSize(".video-container video"),$(window).on("resize",function(){scaleVideoContainer(),scaleBannerVideoSize(".video-container .poster img"),scaleBannerVideoSize(".video-container .filter"),scaleBannerVideoSize(".video-container video")}))}Menu();new SearchForm($(".js-input"));promoslider(),e(),$(".js-parallax").length&&Parallax($(".js-parallax"))});var conf={body:$("body"),html:$("html"),hidden:"is-hidden",wrpr:$(".block"),footer:$(".footer")};