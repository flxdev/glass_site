function Menu(){var e=$(".js-menu"),t=$(".mob-menu"),i="active",n="menu-open";e.add(t).on("click",function(){if(!e.hasClass("anim")){if(e.addClass("anim"),t.toggleClass(i),e.hasClass(i))setTimeout(function(){e.removeClass(i)},400),conf.body.removeClass(n),window.__prevScrollTop&&window.scroll(0,window.__prevScrollTop),window.__prevScrollTop=null;else{var o=$(window).scrollTop();window.__prevScrollTop=o,e.addClass(i),conf.body.addClass(n),document.body.style.top=-o+"px",window.scroll(0,window.__prevScrollTop)}setTimeout(function(){e.removeClass("anim")},500)}}),$(".mob-menu-inner").click(function(e){e.stopPropagation()})}function scaleVideoContainer(){var e=$(".video-container").height()+5,t=parseInt(e)+"px";$(".homepage-hero-module").css("height",t)}function initBannerVideoSize(e){$(e).each(function(){$(this).data("height",$(this).height()),$(this).data("width",$(this).width())}),scaleBannerVideoSize(e)}function scaleBannerVideoSize(e){var t,i,n=$(".video-container").width(),o=$(".video-container").outerHeight()+5;$(e).each(function(){var e=$(this).data("height")/$(this).data("width");$(this).width(n),n<1e3&&(i=o,t=i/e,$(this).css({"margin-top":0,"margin-left":-(t-n)/2+"px"}),$(this).width(t).height(i)),$(".homepage-hero-module .video-container video").addClass("fadeIn animated")})}function SearchForm(e){var t=this;t.initEvents=function(){t.el.on("focus",t.iFocus),t.el.on("blur",function(e){$(e.relatedTarget).hasClass("search-submit")||t.iBlur()}),t.el.on("input",t.iInput),t.submit.on("click",t.initSubmit),t.reset.on("click",t.iReset),this.el.on("click",function(){var e=$(this);e.removeAttr("readonly"),setTimeout(function(){e.trigger("change click"),e.focus(),console.log(e)},500)})},t.iInput=function(){t.iVal=$(this).val(),0!=t.iVal?(t.reset.addClass(t.def.resetClass),t.form.addClass(t.def.active),t.placeHold.hide()):(t.reset.removeClass(t.def.resetClass),t.form.removeClass(t.def.active),t.placeHold.show())},t.iFocus=function(){t.iVal=t.el.val(),t.parent.addClass(t.def.open),t.submit.attr("type","submit"),0!=t.iVal.length&&t.form.addClass(t.def.active)},t.iBlur=function(){t.iVal=t.el.val(),0==t.iVal.length&&(t.parent.removeClass(t.def.open),t.submit.attr("type","button"))},t.iReset=function(){t.reset.removeClass(t.def.resetClass),t.form.removeClass(t.def.active),t.submit.attr("type","button"),t.el.attr("value",""),t.el.val(""),t.el.focus(),t.placeHold.show()},t.initSubmit=function(){return"submit"!==t.submit.attr("type")?t.el.trigger("focus"):alert("Send form!"),!1},t.iDetected=function(e){0!=t.iVal.length&&(t.iFocus(),t.reset.addClass(t.def.resetClass),t.placeHold.hide())},t.generatePlaceeholder=function(){var e=document.createElement("span");e.classList.add("placeholder");var i=this.el.data("placeholder");e.textContent=i,$(e).insertAfter(this.el),t.placeHold=$(".placeholder")},t.init=function(){t.el=e,t.parent=t.el.parent(),t.iVal=t.el.val(),t.submit=t.parent.find(".search-submit"),t.reset=t.parent.find(".search-reset"),t.form=t.el.parents("form"),t.def={open:"open",resetClass:"show",active:"not-empty"},t.generatePlaceeholder(),t.iDetected(),t.initEvents()},e.length&&t.init()}function promoslider(){$(".js-promoslider").each(function(){var e=$(this),t=e.closest(".promo-slider"),i=e.find(".promo-slider-item"),n=t.find(".js-promo-link");e.on("init reInit afterChange",function(e,t,o,a){var s=i.filter(".slick-current"),r=s.data("href");n.attr("href",r)}),e.slick({accessibility:!1,lazyLoad:"progressive",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:1e3})})}function Parallax(e){$(window).on("scroll",function(){var t,i,n,o,a,s,r,l,c,d,h,u,f=$(window).scrollTop(),p=conf.body.scrollHeight,v={};e.each(function(){return v={},t=$(this),h=t.data("axis")||"y",!!t.length&&(u=conf.footer,i=t.parent(),n=i[0].getBoundingClientRect(),s=parseInt(t.data("speed"),10)/109||.1,r=parseInt(t.data("direction"),10)||1,o=i.offset().top,a=($(window).height()-n.height)/2,0>a&&f+n.top<=u.innerHeight()&&(a=0),l=Math.round((n.top-a)*s)*r,0===f?l=0:(c=p,d=$(window).height()+f,c-o-i.innerHeight()<=2&&(c-d)/c===0&&(l=0)),v[h]=l,void TweenMax.to(t,.1,v))})})}function teamslider(){$(".js-team-slider").each(function(){var e=$(this),t=e.parent();e.slick({accessibility:!1,lazyLoad:"ondemand",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,appendArrows:t.find(".slider-nav"),prevArrow:conf.arnprevcontent,nextArrow:conf.arnextcontent})})}$(window).on("load",function(){new Lozad({selector:".js-image",rootMargin:"0px 0px",threshold:.1})}),document.addEventListener("DOMContentLoaded",function(){function e(){$(".video-container").length&&(scaleVideoContainer(),initBannerVideoSize(".video-container .poster img"),initBannerVideoSize(".video-container .filter"),initBannerVideoSize(".video-container video"),$(window).on("resize",function(){scaleVideoContainer(),scaleBannerVideoSize(".video-container .poster img"),scaleBannerVideoSize(".video-container .filter"),scaleBannerVideoSize(".video-container video")}))}Menu();new SearchForm($(".js-input"));promoslider(),e(),$(".js-parallax").length&&Parallax($(".js-parallax")),teamslider()});var conf={body:$("body"),html:$("html"),hidden:"is-hidden",wrpr:$(".block"),footer:$(".footer"),arnextcontent:'<button type="button" class="slick-next slick-arrow"><div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.5 40.1"><style>.starrs0{fill:#1E3E7C;}</style><path d="M4.6 20.4c-.1-.1-.1-.2-.1-.3 0-.1 0-.2.1-.3L19.3 2.6l-.2-.2.2.2c.2-.2.2-.4.2-.6 0-.3-.1-.6-.3-.7L18 .3c-.2-.2-.4-.3-.6-.3-.3 0-.6.1-.7.3L.2 19.4c-.1.2-.2.4-.2.7 0 .2.1.5.2.6l16.4 19.1c.2.2.5.3.7.3.2 0 .5-.1.6-.2l1.2-1c.2-.2.3-.5.3-.7 0-.2-.1-.5-.2-.6L4.6 20.4z" class="starrs0"/></svg></div></button>',arnprevcontent:'<button type="button" class="slick-prev slick-arrow"><div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.5 40.1"><style>.starrs0{fill:#1E3E7C;}</style><path d="M4.6 20.4c-.1-.1-.1-.2-.1-.3 0-.1 0-.2.1-.3L19.3 2.6l-.2-.2.2.2c.2-.2.2-.4.2-.6 0-.3-.1-.6-.3-.7L18 .3c-.2-.2-.4-.3-.6-.3-.3 0-.6.1-.7.3L.2 19.4c-.1.2-.2.4-.2.7 0 .2.1.5.2.6l16.4 19.1c.2.2.5.3.7.3.2 0 .5-.1.6-.2l1.2-1c.2-.2.3-.5.3-.7 0-.2-.1-.5-.2-.6L4.6 20.4z" class="starrs0"/></svg></div></button>'};