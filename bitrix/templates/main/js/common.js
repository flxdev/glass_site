function Menu(){var e=$(".js-menu"),t=$(".mob-menu"),o="active",s="menu-open";e.add(t).on("click",function(){if(!e.hasClass("anim")){if(e.addClass("anim"),t.toggleClass(o),e.hasClass(o))setTimeout(function(){e.removeClass(o)},400),conf.body.removeClass(s),window.__prevScrollTop&&window.scroll(0,window.__prevScrollTop),window.__prevScrollTop=null;else{var i=$(window).scrollTop();window.__prevScrollTop=i,e.addClass(o),conf.body.addClass(s),document.body.style.top=-i+"px",window.scroll(0,window.__prevScrollTop)}setTimeout(function(){e.removeClass("anim")},500)}}),$(".mob-menu-inner").click(function(e){e.stopPropagation()})}function SearchForm(e){var t=this;t.initEvents=function(){t.el.on("focus",t.iFocus),t.el.on("blur",function(e){$(e.relatedTarget).hasClass("search-submit")||t.iBlur()}),t.el.on("input",t.iInput),t.submit.on("click",t.initSubmit),t.reset.on("click",t.iReset),this.el.on("click",function(){var e=$(this);e.removeAttr("readonly"),setTimeout(function(){e.trigger("change click"),e.focus(),console.log(e)},500)})},t.iInput=function(){t.iVal=$(this).val(),0!=t.iVal?(t.reset.addClass(t.def.resetClass),t.form.addClass(t.def.active),t.placeHold.hide()):(t.reset.removeClass(t.def.resetClass),t.form.removeClass(t.def.active),t.placeHold.show())},t.iFocus=function(){t.iVal=t.el.val(),t.parent.addClass(t.def.open),t.submit.attr("type","submit"),0!=t.iVal.length&&t.form.addClass(t.def.active)},t.iBlur=function(){t.iVal=t.el.val(),0==t.iVal.length&&(t.parent.removeClass(t.def.open),t.submit.attr("type","button"))},t.iReset=function(){t.reset.removeClass(t.def.resetClass),t.form.removeClass(t.def.active),t.submit.attr("type","button"),t.el.attr("value",""),t.el.val(""),t.el.focus(),t.placeHold.show()},t.initSubmit=function(){return"submit"!==t.submit.attr("type")?t.el.trigger("focus"):alert("Send form!"),!1},t.iDetected=function(e){0!=t.iVal.length&&(t.iFocus(),t.reset.addClass(t.def.resetClass),t.placeHold.hide())},t.generatePlaceeholder=function(){var e=document.createElement("span");e.classList.add("placeholder");var o=this.el.data("placeholder");e.textContent=o,$(e).insertAfter(this.el),t.placeHold=$(".placeholder")},t.init=function(){t.el=e,t.parent=t.el.parent(),t.iVal=t.el.val(),t.submit=t.parent.find(".search-submit"),t.reset=t.parent.find(".search-reset"),t.form=t.el.parents("form"),t.def={open:"open",resetClass:"show",active:"not-empty"},t.generatePlaceeholder(),t.iDetected(),t.initEvents()},e.length&&t.init()}function promoslider(){$(".js-promoslider").each(function(){var e=$(this),t=e.closest(".promo-slider"),o=e.find(".promo-slider-item"),s=t.find(".js-promo-link");e.on("init reInit afterChange",function(e,t,i,n){var l=o.filter(".slick-current"),a=l.data("href");s.attr("href",a)}),e.slick({accessibility:!1,lazyLoad:"progressive",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:0})})}document.addEventListener("DOMContentLoaded",function(){Menu();new SearchForm($(".js-input"));promoslider()});var conf={body:$("body"),html:$("html"),hidden:"is-hidden",wrpr:$(".wrapper")};